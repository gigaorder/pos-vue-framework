<template>
  <g-grid-layout-content
      v-if="state.show"
      :layout="layout"
      :displayPreviewColor="displayPreviewColor"
      :passThrough="passThrough"
  />
</template>
<script>
  import GGridLayoutContent from './components/GGridLayoutContent'
  import { reactive, watch } from '@vue/composition-api';

  export default {
    name: 'GGridLayout',
    components: { GGridLayoutContent },
    props: {
      lazy: Boolean,
      // layout object generated by grid generator
      layout: Object,
      // boolean value indicate that backgroundColor of grid generator will be applied for grid layout
      displayPreviewColor: Boolean,
      // Allow un-named area render
      passThrough: {
        type: Boolean,
        default: false
      },
    },
    setup(props, context) {
      const state = reactive({
        show: false
      })

      watch(() => props.lazy, () => {
        if (!props.lazy)
          state.show = true
      })

      return {
        state
      }
    }
  }
</script>
<style scoped>
</style>
